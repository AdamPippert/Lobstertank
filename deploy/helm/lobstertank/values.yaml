# -- Backend (Go API server) configuration
backend:
  image:
    repository: ghcr.io/lobstertank/backend
    tag: "0.1.0"
    pullPolicy: IfNotPresent
  replicas: 1
  service:
    type: ClusterIP
    port: 8080
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 256Mi

# -- Frontend (React app served by Nginx) configuration
frontend:
  image:
    repository: ghcr.io/lobstertank/frontend
    tag: "0.1.0"
    pullPolicy: IfNotPresent
  replicas: 1
  service:
    type: ClusterIP
    port: 3000
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi

# -- Kubernetes Ingress configuration
ingress:
  enabled: false
  className: ""
  annotations: {}
  host: lobstertank.local
  tls: []
  #  - secretName: lobstertank-tls
  #    hosts:
  #      - lobstertank.local

# -- OpenShift Route configuration
route:
  enabled: false
  annotations: {}
  host: ""
  tls:
    termination: edge
    insecureEdgeTerminationPolicy: Redirect

# -- Application configuration (mapped to LT_* environment variables)
config:
  dbDriver: sqlite
  dbDSN: /data/lobstertank.db
  authProvider: token
  secretsProvider: builtin
  transportDefault: https
  auditEnabled: "true"
  auditOutput: stdout

# -- HashiCorp Vault configuration (used when secretsProvider=vault)
vault:
  enabled: false
  addr: "https://vault.example.com"
  mountPath: "secret"
  # -- Vault token (stored in secret, or use existingSecret)
  token: ""
  # -- Use existing secret for Vault token instead of creating one
  existingSecret: ""
  existingSecretKey: "vault-token"

# -- Sensitive values (mapped to LT_* environment variables)
secrets:
  authTokenSecret: changeme
  secretsEncryptionKey: ""

# -- Persistent storage for SQLite database
persistence:
  enabled: true
  storageClass: ""
  size: 1Gi

# -- ServiceAccount configuration
serviceAccount:
  create: true
  name: ""
  annotations: {}
